# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Opsi < Formula
  desc "All-in-one CLI for Beliven Ops daily usage!"
  homepage ""
  version "1.2.1"
  license "MIT"

  depends_on "1password-cli"
  depends_on "hssh"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/beliven-it/opsi/releases/download/1.2.1/opsi_1.2.1_darwin_amd64.tar.gz"
      sha256 "35f60dcf9f29cab479694bf95d355a73a6755c6c3d71c6a7dc782e10b2ae0bb5"

      def install
        bin.install "opsi"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/beliven-it/opsi/releases/download/1.2.1/opsi_1.2.1_darwin_arm64.tar.gz"
      sha256 "aab22d252ec1aad5bba0e052233c37296b2efa009fae3849dd6ad3350ff2ae3d"

      def install
        bin.install "opsi"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/beliven-it/opsi/releases/download/1.2.1/opsi_1.2.1_linux_amd64.tar.gz"
      sha256 "c46b81310212041572b77ab33f534b2059c4be07024d95010b81aa0c1f481bd7"

      def install
        bin.install "opsi"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/beliven-it/opsi/releases/download/1.2.1/opsi_1.2.1_linux_arm64.tar.gz"
      sha256 "56c1d20f7a8c8281477dcf442dfedce9ab85877912a9d60acdd5147033f9e567"

      def install
        bin.install "opsi"
      end
    end
  end

  def caveats
    <<~EOS
      Run `opsi init` to generate config file inside
       `~/.config/opsi/config.yml` (works only if not exists yet).

       Type `opsi help` for further information.
    EOS
  end
end
